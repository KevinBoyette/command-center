#!/usr/bin/env bash

apps=(MailMate
      Slack
      Dash
      "Fantastical 2"
      iTerm
     )


startDevVm() {
  cd ~/dev-machine
  vagrant up
}

stopDevVm() {
  cd ~/dev-machine
  vagrant stop
}

start() {
  echo "Starting all apps"
  for i in "${apps[@]}" ; do
    echo "Opening $i"
    open -a "$i"
  done
}


stop() {
  echo "Stopping all apps"
  for i in "${apps[@]}" ; do
    echo "Killing $i"
    pkill -f "$i"
  done
}


main() {
  if [[ "$1" = "start" ]] ; then
    start
    startDevVm
  elif [[ "$1" = "stop" ]] ; then
    stop
    stopDevVm
  else
    echo "usage: work-tools start|stop"
  fi
}


main "$*"
