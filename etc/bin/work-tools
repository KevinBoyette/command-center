#!/usr/bin/env bash

apps=(MailMate
      Slack
      Dash
      "Fantastical 2"
      iTerm
      CloudApp
      "1Password 7"
     )

start() {
  echo "Starting all apps"
  for i in "${apps[@]}" ; do
    echo "Opening $i"
    open -a "$i"
  done
  cd ~/dev-machine
  vagrant up
}


stop() {
  echo "Stopping all apps"
  for i in "${apps[@]}" ; do
    echo "Killing $i"
    pkill -f "$i"
  done

  cd ~/dev-machine
  vagrant suspend
}


main() {
  if [[ "$1" = "start" ]] ; then
    start
  elif [[ "$1" = "stop" ]] ; then
    stop
  else
    echo "usage: work-tools start|stop"
  fi
}


main "$*"
